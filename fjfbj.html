<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>HSBJK • Vision‑Pro Level AI Core</title>

<!-- THREE.JS -->
<script src="https://unpkg.com/three@0.158.0/build/three.min.js"></script>

<!-- MEDIAPIPE -->
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>

<style>
html,body{
  margin:0;
  width:100%;
  height:100%;
  background:radial-gradient(circle at center,#0b1028,#000);
  overflow:hidden;
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display","Segoe UI",sans-serif;
}

canvas{display:block}
video{display:none}

#brand{
  position:fixed;
  bottom:26px;
  right:34px;
  font-size:15px;
  font-weight:800;
  letter-spacing:2.4px;
  background:linear-gradient(120deg,#ffffff,#00f7ff,#ff4fd8,#7cff00);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  filter:drop-shadow(0 0 25px rgba(0,255,255,.35));
}

#hud{
  position:fixed;
  top:24px;
  left:28px;
  color:#9ff;
  font-size:12px;
  letter-spacing:1.5px;
  opacity:.8;
}

#intro{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:64px;
  font-weight:900;
  letter-spacing:8px;
  color:white;
  background:#000;
  z-index:10;
  animation:intro 3.8s forwards;
}

@keyframes intro{
  0%{opacity:1}
  65%{opacity:1}
  100%{opacity:0;pointer-events:none}
}
</style>
</head>
<body>

<div id="intro">HSBJK</div>
<div id="hud">AI CORE • LIVE SENSOR</div>
<div id="brand">Powered by HSBJK</div>
<video id="video" autoplay playsinline></video>

<script>
// ---------------- SCENE ----------------
const scene = new THREE.Scene();
scene.fog = new THREE.FogExp2(0x000000,0.08);

const camera = new THREE.PerspectiveCamera(70,innerWidth/innerHeight,0.1,100);
camera.position.z = 10;

const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth,innerHeight);
renderer.setPixelRatio(devicePixelRatio);
document.body.appendChild(renderer.domElement);

// ---------------- LIGHTING ----------------
scene.add(new THREE.AmbientLight(0xffffff,.25));
const keyLight = new THREE.PointLight(0x00ffff,1.4,40);
keyLight.position.set(0,0,10);
scene.add(keyLight);

// ---------------- AI CORE (ORB) ----------------
const core = new THREE.Group();
scene.add(core);

const COUNT = 620;
const BASE_RADIUS = 4.6;

for(let i=0;i<COUNT;i++){
  const g = new THREE.SphereGeometry(0.05,16,16);
  const m = new THREE.MeshStandardMaterial({
    color:new THREE.Color(`hsl(${Math.random()*360},100%,60%)`),
    emissive:new THREE.Color(`hsl(${Math.random()*360},100%,50%)`),
    emissiveIntensity:1.3
  });
  const p = new THREE.Mesh(g,m);
  const a = Math.random()*Math.PI*2;
  const b = Math.random()*Math.PI*2;
  p.userData = {a,b,s:0.004+Math.random()*0.015};
  p.position.set(
    Math.cos(a)*Math.sin(b)*BASE_RADIUS,
    Math.sin(a)*BASE_RADIUS,
    Math.cos(a)*Math.cos(b)*BASE_RADIUS
  );
  core.add(p);
}

// ---------------- TRAIL ----------------
const trailGeo = new THREE.BufferGeometry();
const trailMat = new THREE.PointsMaterial({size:0.04,transparent:true,opacity:.18});
const trails = new THREE.Points(trailGeo,trailMat);
scene.add(trails);

// ---------------- CAMERA INPUT ----------------
const video = document.getElementById('video');
navigator.mediaDevices.getUserMedia({video:true}).then(s=>video.srcObject=s);

let fx=0,fy=0,fz=0;

const face = new FaceMesh({locateFile:f=>`https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/${f}`});
face.setOptions({maxNumFaces:1,refineLandmarks:true});
face.onResults(r=>{
  if(r.multiFaceLandmarks.length){
    const n=r.multiFaceLandmarks[0][1];
    fx=(n.x-.5)*8;
    fy=-(n.y-.5)*8;
    fz=(.5-n.z)*14;
  }
});

const hands = new Hands({locateFile:f=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands/${f}`});
hands.setOptions({maxNumHands:2});
hands.onResults(r=>{
  if(r.multiHandLandmarks.length){
    const p=r.multiHandLandmarks[0][9];
    fx+=(p.x-.5)*6;
    fy+=-(p.y-.5)*6;
  }
});

const cam = new Camera(video,{onFrame:async()=>{await face.send({image:video});await hands.send({image:video});},width:640,height:480});
cam.start();

// ---------------- ANIMATE ----------------
function animate(){
  requestAnimationFrame(animate);

  core.rotation.y += 0.003 + Math.abs(fx)*0.002;
  core.rotation.x += 0.002;

  const t=[];

  core.children.forEach(p=>{
    p.userData.a+=p.userData.s;
    p.userData.b+=p.userData.s*.7;

    const r = BASE_RADIUS + Math.sin(p.userData.a*3+fz)*0.6;

    p.position.x = Math.cos(p.userData.a)*Math.sin(p.userData.b)*r + fx*.15;
    p.position.y = Math.sin(p.userData.a)*r + fy*.15;
    p.position.z = Math.cos(p.userData.a)*Math.cos(p.userData.b)*r + fz*.1;

    t.push(p.position.x,p.position.y,p.position.z);
  });

  trailGeo.setAttribute('position',new THREE.Float32BufferAttribute(t,3));

  renderer.render(scene,camera);
}
animate();

window.addEventListener('resize',()=>{
  camera.aspect=innerWidth/innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth,innerHeight);
});
</script>
</body>
</html>
